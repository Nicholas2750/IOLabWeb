<!DOCTYPE html>
<html lang="en">

<head>
  <title>IOLab Web v0.8.48</title>
  <meta charset="utf-8">
  <meta name="iolab" content="testing-w-web-serial">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="style.css">

  <script src="CanvasStack-2v01.js"></script>
  <script src="globalVariables.js"></script>
  <script src="debug.js"></script>
  <script src="process_data.js"></script>
  <script src="iolab_options.js"></script>
  <script src="config.js"></script>
  <script src="files.js"></script>
  <script src="PlotClass.js"></script>
  <script src="AnalClass.js"></script>
  <script src="run_control.js"></script>
  <script src="calibration.js"></script>
  <script src="calsteps.js"></script>
  <script src="main.js" defer></script>

</head>

<body>
  <header class="header">
    <h1>
      <label class="iolab"> <span id="iolabWeb" title="Under Construction"> <i><b>iOLabWeb</b> (alpha release)</i></span> </label> &nbsp;&nbsp; |
      &nbsp;&nbsp;
      <label> Dongle: <span id="dongleStatusDisplay" title="Plug in dongle and click on connect button">not connected
        </span> </label> &nbsp;&nbsp; | &nbsp;&nbsp;
      <label> Remote: <span id="remoteStatusDisplay" title="Power up the iOLab remote">off</span> </label>
    </h1>
  </header>

  <div id="notSupported" class="hidden">
    <b>Web Serial</b> is not supported on this device. Please
    Chrome 89 or later. For earlier version of Chrome (78 through 88) you will need to set the<br />
    <code>#enable-experimental-web-platform-features</code> flag in
    <code>chrome://flags</code>
  </div>

  <div class="topcontrol">
    <p></p>
    <table>
      <tr>
        <td>
          <a href="" id="resetApp" onclick="resetApp()" title="Reloads and restarts IOLabWeb (data is cleared). "
            style="cursor: pointer;"><img src="images/reset1.PNG" valign="middle" height="28"></a>
          
          <a id="butConnect" title="Make or Break Serial Connection to Dongle" style="cursor: pointer;">
            <img id="connectImg" src="images/connect.PNG" valign="middle"></a>
          &nbsp;
          <select id="cmd-picker"></select>&nbsp; &nbsp;
        </td>
        <td>
          <span id="save" >
            Save: <a href="" id="downloadData" onclick="saveToFile()" 
            title="Saved data to .iolab file. Can be shared and restored on this or other computers."
            style="cursor: pointer;"><img
            src="images/dload.PNG" alt="[Save]" valign="bottom" width="24" height="24"></a></span>
        </td>
        
        <td>&nbsp; &nbsp;</td>

        <td>
          <span id="restore" title="Load previously saved data from .iolab file"> 
            Restore: <input type="file" accept=".iolab" size="20" name="inputfile" id="inputfile">
          </span>
        </td>
        <td>
          <input id="debug_ck" type="checkbox" checked="false" title="Displays additional information for experts">
        </td>
      </tr>
    </table>

    <div id="configSelect">
      <table>
        <tr>
          <td><button id="butSend" type="button"
              title="Loads your IOLab with the configuration selected below">Configure</button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

            <span id="calBtnTxt">Calibrate:</span> <a id="calBtn" title="Calibration" style="cursor: pointer;">
              <img id="calBtnImg" src="images/calruler1.PNG" valign="bottom"></a>
          </td>
        </tr>
        <tr>
          <td>
            <label><select class="selection" id="config-picker" title="Configuration Selector"></select></label>
          </td>
          <td>&nbsp;&nbsp;<button id="butStartStop" type="button" title="Start or Stop an aquisition">Start</button>
          </td>
        </tr>
      </table>
    </div>

  </div>

  <div id="controlContainer" class="control"></div>

  <div id="plotContainer" class="charts"></div>

  <!-- For Debugging -->
  <div id="debugStuff">

    <div id="textAreaContainer">
      <table>
        <tr>
          <td>Tx:</td>
          <td>Rx:</td>
        </tr>
        <tr>
          <td><textarea id="dataBoxTx" rows="10" cols="30"
              style="overflow:scroll; resize:horizontal; min-width:200px;"></textarea></td>
          <td><textarea id="dataBoxRx" rows="10" cols="60"
              style="overflow:scroll; resize:horizontal; min-width:200px;"></textarea></td>
        </tr>
      </table>
    </div>

    <p> <button id="butDebug" type="button">Debug</button></p>
  </div>

  <!-- The Modal -->
  <div id="calModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
      <div class="modal-header">
        <span>Calibration Control</span>
        <span class="closeCal">&times;</span>
      </div>
      <div class="modal-body">
        <table class="a">
          <tr>
            <td>
              <div id="calChooseAMG"></div>
            </td>
            <td>
              <div id="calChooseF"></div>
            </td>
          </tr>
          <tr>
            <td>
              <div id="calChooseAMGtxt"></div>
            </td>
            <td>
              <div id="calChooseFtxt"></div>
            </td>
          </tr>
        </table>
        <p id="ttext_p" class="inst"> </p>
        <div id="calDiv"></div>
      </div>
    </div>

  </div>

</body>

</html>